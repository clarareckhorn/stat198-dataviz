<!DOCTYPE html>
<html lang="en"><head>
<link href="../../assets/stat198-corner.png" rel="icon" type="image/png">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/tabby.min.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-065a5179aebd64318d7ea99d77b64a9e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/quarto-contrib/countdown-0.5.0/countdown.js"></script>
<link href="../../site_libs/quarto-contrib/countdown-0.5.0/countdown.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.8.25">

  <title>dataviz-spring-2026 – Week 3</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    html { -webkit-text-size-adjust: 100%; }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #24292e;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #24292e; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #d73a49; } /* Attribute */
    code span.bn { color: #005cc5; } /* BaseN */
    code span.bu { color: #d73a49; } /* BuiltIn */
    code span.cf { color: #d73a49; } /* ControlFlow */
    code span.ch { color: #032f62; } /* Char */
    code span.cn { color: #005cc5; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #d73a49; } /* DataType */
    code span.dv { color: #005cc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #d73a49; font-weight: bold; } /* Extension */
    code span.fl { color: #005cc5; } /* Float */
    code span.fu { color: #6f42c1; } /* Function */
    code span.im { color: #032f62; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #d73a49; } /* Keyword */
    code span.op { color: #24292e; } /* Operator */
    code span.ot { color: #6f42c1; } /* Other */
    code span.pp { color: #d73a49; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #005cc5; } /* SpecialChar */
    code span.ss { color: #032f62; } /* SpecialString */
    code span.st { color: #032f62; } /* String */
    code span.va { color: #e36209; } /* Variable */
    code span.vs { color: #032f62; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href="../../site_libs/revealjs/dist/theme/quarto-2f3081a84cd4859604ff54a50474bf31.css">
  <link href="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/reveal-drop/drop-runtime.css" rel="stylesheet">
  <link href="../../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="../../site_libs/quarto-contrib/quarto-project/stat198/stat198slides/stat198-slide.png" data-background-size="contain" class="quarto-title-block center">
  <h1 class="title">Week 3</h1>
  <p class="subtitle">Data Types</p>

<div class="quarto-title-authors">
</div>

</section>
<section id="agenda" class="title-slide slide level1 center">
<h1>Agenda</h1>
<ul>
<li>Discussion of Assigned Reading<br>
</li>
<li>Intro to R and Data Cleaning</li>
<li>Activity</li>
<li>Exploratory Data Analysis</li>
</ul>
</section>

<section id="discussion-of-assigned-reading" class="title-slide slide level1 center">
<h1>Discussion of Assigned Reading</h1>
<ul>
<li class="fragment"><strong>Reading:</strong> <a href="https://www.nytimes.com/2021/05/26/upshot/college-admissions-essay-sat.html">The Persistent Grip of Social Class on College Admissions</a></li>
<li class="fragment">What was the design element you liked?</li>
<li class="fragment">How do you think grammar of graphics was portrayed in the graph?</li>
</ul>
<div id="timer_7b1236049dae94ab87a138487228b55dd6f1556e" class="countdown" data-warn-when="0" data-update-every="1" data-play-sound="false" data-blink-colon="false" data-start-immediately="false" tabindex="0" style="right: 0;bottom: 0;">
  <div class="countdown-controls">
    <button class="countdown-bump-down">−</button>
    <button class="countdown-bump-up">+</button>
 </div>
 <code class="countdown-time"><span class="countdown-digits minutes">03</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
 </div>
</section>

<section>
<section id="vectors-in-r" class="title-slide slide level1 smaller center">
<h1>Vectors in R</h1>
<p>A vector is like a single column of data in R, it’s a list of values that are all the same type (like all numbers or all words).<br>
Example:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a></a><span class="co"># A vector of numbers</span></span>
<span id="cb1-2"><a></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb1-3"><a></a></span>
<span id="cb1-4"><a></a><span class="co"># A vector of words</span></span>
<span id="cb1-5"><a></a>fruits <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span>)</span>
<span id="cb1-6"><a></a></span>
<span id="cb1-7"><a></a><span class="co"># A vector of TRUE/FALSE values</span></span>
<span id="cb1-8"><a></a>logic <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">

</div>
</section>
<section id="data-frames-in-r" class="slide level2 smaller">
<h2>Data Frames in R</h2>
<p>A data frame is like a table or spreadsheet — it has rows and columns, and each column can have its own type (numbers, words, etc.).</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a></a><span class="co"># Create a data frame</span></span>
<span id="cb2-2"><a></a>students <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-3"><a></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Alice"</span>, <span class="st">"Bob"</span>, <span class="st">"Charlie"</span>),</span>
<span id="cb2-4"><a></a>  <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">19</span>),</span>
<span id="cb2-5"><a></a>  <span class="at">major =</span> <span class="fu">c</span>(<span class="st">"Math"</span>, <span class="st">"Physics"</span>, <span class="st">"Biology"</span>)</span>
<span id="cb2-6"><a></a>)</span>
<span id="cb2-7"><a></a></span>
<span id="cb2-8"><a></a><span class="co"># Print the data frame</span></span>
<span id="cb2-9"><a></a><span class="fu">print</span>(students)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div><div class="column fragment">
<div class="cell-output cell-output-stdout">
<pre><code>     name age   major
1   Alice  20    Math
2     Bob  21 Physics
3 Charlie  19 Biology</code></pre>
</div>
</div></div>
</section>
<section id="data-types-in-r" class="slide level2 smaller">
<h2>Data types in R</h2>
<p>Data Types: A data type tells you what kind of data something is, like a number, a word (string), or a TRUE/FALSE value (logical).</p>
<div class="cell columns column-output-location">
<div class="column">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a></a><span class="co"># Numeric (numbers)</span></span>
<span id="cb4-2"><a></a>num <span class="ot">&lt;-</span> <span class="dv">42</span></span>
<span id="cb4-3"><a></a></span>
<span id="cb4-4"><a></a><span class="co"># Character (text)</span></span>
<span id="cb4-5"><a></a>text <span class="ot">&lt;-</span> <span class="st">"Hello, R!"</span></span>
<span id="cb4-6"><a></a></span>
<span id="cb4-7"><a></a><span class="co"># Logical (TRUE/FALSE)</span></span>
<span id="cb4-8"><a></a>logic <span class="ot">&lt;-</span> <span class="cn">TRUE</span></span>
<span id="cb4-9"><a></a></span>
<span id="cb4-10"><a></a><span class="co"># Print the values and their types</span></span>
<span id="cb4-11"><a></a><span class="fu">print</span>(num)      <span class="co"># 42</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div><div class="column fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 42</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a></a><span class="fu">print</span>(text)     <span class="co"># "Hello, R!"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Hello, R!"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a></a><span class="fu">print</span>(logic)    <span class="co"># TRUE</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a></a><span class="co"># Check the data type using class()</span></span>
<span id="cb10-2"><a></a><span class="fu">class</span>(num)   <span class="co"># "numeric"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "numeric"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a></a><span class="fu">class</span>(text)  <span class="co"># "character"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a></a><span class="fu">class</span>(logic) <span class="co"># "logical"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "logical"</code></pre>
</div>
</div></div>
</section></section>
<section>
<section id="data-cleaning" class="title-slide slide level1 center">
<h1>Data Cleaning</h1>
<p>Real data has:</p>
<ul>
<li>inconsistent labels</li>
<li>missing values</li>
<li>mixed units</li>
<li>impossible numbers</li>
</ul>
<p><code>dplyr</code> and <code>tidyr</code> are part of the <code>tidyverse</code> (package) and help you clean data using readable, step-by-step pipelines. Together, they make it easy to standardize values, reshape tables, handle missing data, and prepare datasets for analysis.</p>
</section>
<section id="functions-we-use-to-clean-data" class="slide level2">
<h2>Functions we use to clean data</h2>
<table class="caption-top">
<colgroup>
<col style="width: 25%">
<col style="width: 37%">
<col style="width: 37%">
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>What it does</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>str_trim()</code></td>
<td>Remove extra spaces</td>
<td><code>" Coffee "</code> → <code>"Coffee"</code></td>
</tr>
<tr class="even">
<td><code>str_to_lower()</code></td>
<td>Convert text to lowercase</td>
<td><code>"Tea"</code> → <code>"tea"</code></td>
</tr>
<tr class="odd">
<td><code>str_to_upper()</code></td>
<td>Convert text to uppercase</td>
<td><code>"Water"</code> → <code>"WATER"</code></td>
</tr>
</tbody>
</table>
</section>
<section id="functions-we-use-to-clean-data-continued" class="slide level2">
<h2>Functions we use to clean data (Continued)</h2>
<p>parse_number() extracts the first number it finds in a string.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb16-2"><a></a></span>
<span id="cb16-3"><a></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span></span>
<span id="cb16-4"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb16-5"><a></a>    <span class="at">hours =</span> <span class="fu">parse_number</span>(hours),</span>
<span id="cb16-6"><a></a>    <span class="at">commute =</span> <span class="fu">parse_number</span>(commute),</span>
<span id="cb16-7"><a></a>    <span class="at">units =</span> <span class="fu">parse_number</span>(units)</span>
<span id="cb16-8"><a></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">

</div>
</section>
<section id="functions-we-use-to-clean-data-continued-1" class="slide level2">
<h2>Functions we use to clean data (Continued)</h2>
<p>case_when() Creates a new variable using multiple conditions.</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a></a>df <span class="ot">&lt;-</span> df <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb17-3"><a></a>    <span class="at">drink_clean =</span> <span class="fu">case_when</span>(</span>
<span id="cb17-4"><a></a>      <span class="co">#logical condition, condition ~ value_if_true “is in”</span></span>
<span id="cb17-5"><a></a>      <span class="co">#If condition is TRUE, then assign "water"</span></span>
<span id="cb17-6"><a></a>      <span class="co">#drink == "water" checks ONE VALUE </span></span>
<span id="cb17-7"><a></a>      drink <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"water"</span>, <span class="st">"sparkling water"</span>) <span class="sc">~</span> <span class="st">"water"</span>,</span>
<span id="cb17-8"><a></a>      drink <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"tea"</span>, <span class="st">"peach iced tea"</span>) <span class="sc">~</span> <span class="st">"tea"</span>,</span>
<span id="cb17-9"><a></a>      drink <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"coffee"</span>, <span class="st">"coffee/liquid"</span>) <span class="sc">~</span> <span class="st">"coffee"</span>,</span>
<span id="cb17-10"><a></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"other"</span></span>
<span id="cb17-11"><a></a>    )</span>
<span id="cb17-12"><a></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">

</div>
</section>
<section id="data-cleaning-1" class="slide level2">
<h2>Data Cleaning</h2>
<p>Before we can clean data, we first need to load it into our R session.</p>
</section>
<section id="csvs" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">CSVs</h2>
<p>A <em>comma separate value (CSV)</em> file stores tabular data with each row on a new line and each column delimited by a comma. Good for storing R data frames in your file system.</p>
<div class="fragment">
<p><br>
</p>
<h4 id="reading-into-r-base-r">Reading into R (base R)</h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb18-1" class="hljs-ln-code"><a></a>data <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/week1_survey.csv"</span>)</span>
<span id="cb18-2" class="hljs-ln-code"><a></a>data</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">

</div>
</div>
</section>
<section id="csvs-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">CSVs</h2>
<p>A <em>comma separate value (CSV)</em> file stores tabular data with each row on a new line and each column delimited by a comma. Good for storing R data frames in your file system.</p>
<p><br>
</p>
<h4 id="reading-into-r-readr">Reading into R (<code>readr</code>)</h4>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb19-1" class="hljs-ln-code"><a></a><span class="fu">library</span>(readr)</span>
<span id="cb19-2" class="hljs-ln-code"><a></a><span class="co"># library(tidyverse) # easy alternative</span></span>
<span id="cb19-3" class="hljs-ln-code"><a></a><span class="co"># read_csv: modern tidyverse approach, faster, safer, more predictable</span></span>
<span id="cb19-4" class="hljs-ln-code"><a></a>data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/week1_survey.csv"</span>)</span>
<span id="cb19-5" class="hljs-ln-code"><a></a>data</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 19 × 7
   hours           transfer gradstudent commute   drink             major  units
   &lt;chr&gt;           &lt;lgl&gt;    &lt;lgl&gt;       &lt;chr&gt;     &lt;chr&gt;             &lt;chr&gt;  &lt;chr&gt;
 1 7               FALSE    FALSE       20        water             Rheto… 6    
 2 8               FALSE    FALSE       10 min    water             Env.E… 15   
 3 7 hours         TRUE     TRUE        20 mins   coffee            Busin… 13   
 4 6 hrs           TRUE     FALSE       5 min     champagne         appli… 13 u…
 5 4 hours/5 hours FALSE    FALSE       10 min    sprite            Econo… 16   
 6 9hrs            TRUE     FALSE       45 min    coffee            DATA … 13 u…
 7 7 hours         FALSE    FALSE       7 mins    water             Data … 14   
 8 6 hrs           FALSE    FALSE       ~10       Peach Iced tea    CB     18   
 9 8h              TRUE     FALSE       5m        water             Data … 14   
10 7h30            FALSE    FALSE       20 min    water             Molec… 15   
11 8h              TRUE     FALSE       60        tea               stati… 20   
12 8hours/wd       FALSE    FALSE       2 minutes coffee/liquid     legal… 17 u…
13 7.5h            FALSE    FALSE       30 min    tea               poli.… 20u  
14 7h avg          NA       TRUE        20 minute sparkling water   Buisi… 15   
15 7.5h            FALSE    TRUE        35 min    gin and tonic     stati… 13   
16 6               TRUE     FALSE       10        Tea               compu… 11   
17 8 hours         TRUE     FALSE       45 min    water             Data … 17 u…
18 6               FALSE    FALSE       20        tea               math   20   
19 6               FALSE    FALSE       10 min    Iced Matcha Latte Socio… 12   </code></pre>
</div>
</div>
</section>
<section id="data-cleaning-continued" class="slide level2">
<h2>Data Cleaning (Continued)</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a></a><span class="co">#Preview the first few rows of the dataset</span></span>
<span id="cb21-2"><a></a><span class="fu">head</span>(data)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 7
  hours           transfer gradstudent commute drink     major             units
  &lt;chr&gt;           &lt;lgl&gt;    &lt;lgl&gt;       &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;             &lt;chr&gt;
1 7               FALSE    FALSE       20      water     Rhetoric          6    
2 8               FALSE    FALSE       10 min  water     Env.Econ          15   
3 7 hours         TRUE     TRUE        20 mins coffee    Business managem… 13   
4 6 hrs           TRUE     FALSE       5 min   champagne applied math      13 u…
5 4 hours/5 hours FALSE    FALSE       10 min  sprite    Economics         16   
6 9hrs            TRUE     FALSE       45 min  coffee    DATA SCIENCE      13 u…</code></pre>
</div>
</div>
</section></section>
<section>
<section id="core-dplyr-functions" class="title-slide slide level1 center">
<h1>Core dplyr functions</h1>
<ul>
<li><code>slice()</code> # Pick rows by position (e.g., first 5 rows)</li>
<li><code>select()</code> # Choose specific columns</li>
<li><code>filter()</code> # Keep rows that meet a condition</li>
<li><code>mutate()</code> # Create or modify columns</li>
<li><code>arrange()</code> # Sort rows by one or more variables</li>
<li><code>summarize()</code> # Compute summary statistics (mean, count, etc.)</li>
<li><code>group_by()</code> # Group data so summaries are done per category</li>
</ul>
</section>
<section id="dplyr-verbs" class="slide level2">
<h2>dplyr verbs</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li><code>slice()</code></li>
<li><code>select()</code></li>
<li><code>filter()</code></li>
<li><code>mutate()</code></li>
<li><code>arrange()</code></li>
<li><code>summarize()</code></li>
<li><code>group_by()</code></li>
</ul>
</div><div class="column fragment" style="width:50%;">
<ol type="1">
<li>All of these have a data frame as the first argument.</li>
<li>All of these produce a data frame as output.</li>
<li>Within the function, you can simply refer to column names unquoted.</li>
</ol>
</div></div>
</section>
<section id="data-pipelines-in-r" class="slide level2">
<h2>Data Pipelines in R</h2>
<div class="columns">
<div class="column">
<p><img data-src="images/oldpipeline.png"></p>
<p>2016: <code>magrittr</code> introduces <code>%&gt;%</code></p>
</div><div class="column fragment">
<p><span style="font-size:3em;"><code>|&gt;</code></span></p>
<p>2021:</p>
<blockquote>
<p><em>R now provides a simple native forward pipe syntax |&gt;. The simple form of the forward pipe inserts the left-hand side as the first argument in the right-hand side call.</em></p>
</blockquote>
</div></div>
</section>
<section id="using-pipeline-with-our-data" class="slide level2">
<h2>Using pipeline with our data</h2>
<p>Without the pipeline, we would have to apply each function one at a time:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a></a><span class="fu">summarize</span>(</span>
<span id="cb23-2"><a></a>  <span class="fu">filter</span>(data, major <span class="sc">==</span> <span class="st">"statistics"</span>),</span>
<span id="cb23-3"><a></a>  <span class="fu">mean</span>(sleep_hours, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb23-4"><a></a>)</span>
<span id="cb23-5"><a></a><span class="co"># results in nested function which can be very messy</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">

</div>
<p>Using the pipeline, this becomes very clean:</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a></a>data <span class="sc">|&gt;</span></span>
<span id="cb24-2"><a></a>  <span class="fu">filter</span>(major <span class="sc">==</span> <span class="st">"statistics"</span>) <span class="sc">|&gt;</span></span>
<span id="cb24-3"><a></a>  <span class="fu">summarise</span>(<span class="fu">mean</span>(sleep_hours, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">

</div>
</section></section>
<section>
<section id="what-we-want" class="title-slide slide level1 center">
<h1>What we want:</h1>
<div class="cell columns column-output-location">
<div class="column">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb25-2"><a></a></span>
<span id="cb25-3"><a></a>farm_data <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb25-4"><a></a>  <span class="at">employee_id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,</span>
<span id="cb25-5"><a></a>  <span class="at">hours_worked =</span> <span class="fu">c</span>(<span class="dv">40</span>, <span class="dv">55</span>, <span class="dv">38</span>, <span class="dv">60</span>, <span class="dv">45</span>, <span class="dv">50</span>, <span class="dv">42</span>, <span class="dv">65</span>, <span class="dv">37</span>, <span class="dv">48</span>),</span>
<span id="cb25-6"><a></a>  <span class="at">seasonal_worker =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span>),</span>
<span id="cb25-7"><a></a>  <span class="at">supervisor =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>),</span>
<span id="cb25-8"><a></a>  <span class="at">commute_min =</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">35</span>, <span class="dv">20</span>, <span class="dv">50</span>, <span class="dv">10</span>, <span class="dv">40</span>, <span class="dv">25</span>, <span class="dv">60</span>, <span class="dv">12</span>, <span class="dv">30</span>),</span>
<span id="cb25-9"><a></a>  <span class="at">primary_crop =</span> <span class="fu">c</span>(<span class="st">"Corn"</span>, <span class="st">"Wheat"</span>, <span class="st">"Corn"</span>, <span class="st">"Soy"</span>,</span>
<span id="cb25-10"><a></a>                   <span class="st">"Soy"</span>, <span class="st">"Wheat"</span>, <span class="st">"Corn"</span>, <span class="st">"Soy"</span>,</span>
<span id="cb25-11"><a></a>                   <span class="st">"Corn"</span>, <span class="st">"Wheat"</span>),</span>
<span id="cb25-12"><a></a>  <span class="at">years_experience =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>, <span class="dv">3</span>, <span class="dv">12</span>, <span class="dv">4</span>, <span class="dv">8</span>, <span class="dv">1</span>, <span class="dv">15</span>, <span class="dv">6</span>),</span>
<span id="cb25-13"><a></a>  <span class="at">hourly_wage =</span> <span class="fu">c</span>(<span class="dv">18</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">19</span>, <span class="dv">28</span>, <span class="dv">21</span>, <span class="dv">24</span>, <span class="dv">17</span>, <span class="dv">30</span>, <span class="dv">23</span>)</span>
<span id="cb25-14"><a></a>)</span>
<span id="cb25-15"><a></a></span>
<span id="cb25-16"><a></a>farm_data</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div><div class="column fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 8
   employee_id hours_worked seasonal_worker supervisor commute_min primary_crop
         &lt;int&gt;        &lt;dbl&gt; &lt;lgl&gt;           &lt;lgl&gt;            &lt;dbl&gt; &lt;chr&gt;       
 1           1           40 TRUE            FALSE               15 Corn        
 2           2           55 TRUE            FALSE               35 Wheat       
 3           3           38 FALSE           TRUE                20 Corn        
 4           4           60 TRUE            FALSE               50 Soy         
 5           5           45 FALSE           TRUE                10 Soy         
 6           6           50 TRUE            FALSE               40 Wheat       
 7           7           42 FALSE           TRUE                25 Corn        
 8           8           65 TRUE            FALSE               60 Soy         
 9           9           37 FALSE           TRUE                12 Corn        
10          10           48 FALSE           FALSE               30 Wheat       
# ℹ 2 more variables: years_experience &lt;dbl&gt;, hourly_wage &lt;dbl&gt;</code></pre>
</div>
</div></div>
</section>
<section id="reality-with-data" class="slide level2">
<h2>Reality with data</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a></a>farm_raw <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb27-2"><a></a>  <span class="at">employee_id =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>,</span>
<span id="cb27-3"><a></a>  <span class="at">hours_worked =</span> <span class="fu">c</span>(<span class="st">"40 hours"</span>, <span class="st">"55 hrs"</span>, <span class="st">"38 hrs"</span>, <span class="st">"60 hours"</span>, <span class="st">"45hrs"</span>, <span class="st">"50hours"</span>),</span>
<span id="cb27-4"><a></a>  <span class="at">seasonal_worker =</span> <span class="fu">c</span>(<span class="st">"yes"</span>, <span class="st">"TRUE"</span>, <span class="st">"no"</span>, <span class="st">"Yes"</span>, <span class="st">"false"</span>, <span class="st">"TRUE"</span>),</span>
<span id="cb27-5"><a></a>  <span class="at">supervisor =</span> <span class="fu">c</span>(<span class="st">"no"</span>, <span class="st">"no"</span>, <span class="st">"TRUE"</span>, <span class="st">"no"</span>, <span class="st">"TRUE"</span>, <span class="st">"no"</span>),</span>
<span id="cb27-6"><a></a>  <span class="at">commute_min =</span> <span class="fu">c</span>(<span class="st">"15 minutes"</span>, <span class="st">"35 mins"</span>, <span class="st">"20min"</span>, <span class="st">"50 minute"</span>, <span class="st">"10minutes"</span>, <span class="st">"40mins"</span>),</span>
<span id="cb27-7"><a></a>  <span class="at">primary_crop =</span> <span class="fu">c</span>(<span class="st">" Corn"</span>, <span class="st">"wheat "</span>, <span class="st">"CORN"</span>, <span class="st">"Soy"</span>, <span class="st">" soy "</span>, <span class="st">"WHEAT"</span>),</span>
<span id="cb27-8"><a></a>  <span class="at">years_experience =</span> <span class="fu">c</span>(<span class="st">"2 years"</span>, <span class="st">"5rs"</span>, <span class="st">"10 yrs"</span>, <span class="st">"3 yr"</span>, <span class="st">"12 years"</span>, <span class="st">"4yr"</span>),</span>
<span id="cb27-9"><a></a>  <span class="at">hourly_wage =</span> <span class="fu">c</span>(<span class="st">"18 dollars"</span>, <span class="st">"20/hr"</span>, <span class="st">"25 per hour"</span>, <span class="st">"19 dollars"</span>, <span class="st">"28 usd"</span>, <span class="st">"21 /day"</span>)</span>
<span id="cb27-10"><a></a>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">

</div>
</section>
<section id="data-cleaning-example" class="slide level2">
<h2>Data Cleaning Example:</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb28-2"><a></a></span>
<span id="cb28-3"><a></a>farm_clean <span class="ot">&lt;-</span> farm_raw <span class="sc">|&gt;</span></span>
<span id="cb28-4"><a></a>  <span class="fu">mutate</span>(</span>
<span id="cb28-5"><a></a>    <span class="co"># numeric columns</span></span>
<span id="cb28-6"><a></a>    <span class="at">hours_worked =</span> <span class="fu">parse_number</span>(hours_worked),</span>
<span id="cb28-7"><a></a>    <span class="at">commute_min =</span> <span class="fu">parse_number</span>(commute_min),</span>
<span id="cb28-8"><a></a>    <span class="at">years_experience =</span> <span class="fu">parse_number</span>(years_experience),</span>
<span id="cb28-9"><a></a>    <span class="at">hourly_wage =</span> <span class="fu">parse_number</span>(hourly_wage),</span>
<span id="cb28-10"><a></a></span>
<span id="cb28-11"><a></a>    <span class="co"># yes/no variables</span></span>
<span id="cb28-12"><a></a>    <span class="at">seasonal_worker =</span> <span class="fu">case_when</span>(</span>
<span id="cb28-13"><a></a>      <span class="fu">str_to_lower</span>(<span class="fu">str_trim</span>(seasonal_worker)) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"yes"</span>, <span class="st">"true"</span>) <span class="sc">~</span> <span class="cn">TRUE</span>,</span>
<span id="cb28-14"><a></a>      <span class="fu">str_to_lower</span>(<span class="fu">str_trim</span>(seasonal_worker)) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"no"</span>, <span class="st">"false"</span>) <span class="sc">~</span> <span class="cn">FALSE</span>,</span>
<span id="cb28-15"><a></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA</span></span>
<span id="cb28-16"><a></a>    ),</span>
<span id="cb28-17"><a></a></span>
<span id="cb28-18"><a></a>    <span class="at">supervisor =</span> <span class="fu">case_when</span>(</span>
<span id="cb28-19"><a></a>      <span class="fu">str_to_lower</span>(<span class="fu">str_trim</span>(supervisor)) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"yes"</span>, <span class="st">"true"</span>) <span class="sc">~</span> <span class="cn">TRUE</span>,</span>
<span id="cb28-20"><a></a>      <span class="fu">str_to_lower</span>(<span class="fu">str_trim</span>(supervisor)) <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"no"</span>, <span class="st">"false"</span>) <span class="sc">~</span> <span class="cn">FALSE</span>,</span>
<span id="cb28-21"><a></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="cn">NA</span></span>
<span id="cb28-22"><a></a>    ),</span>
<span id="cb28-23"><a></a></span>
<span id="cb28-24"><a></a>    <span class="co"># categorical cleanup</span></span>
<span id="cb28-25"><a></a>    <span class="at">primary_crop =</span></span>
<span id="cb28-26"><a></a>      primary_crop <span class="sc">|&gt;</span></span>
<span id="cb28-27"><a></a>      <span class="fu">str_trim</span>() <span class="sc">|&gt;</span></span>
<span id="cb28-28"><a></a>      <span class="fu">str_to_lower</span>()</span>
<span id="cb28-29"><a></a>  )</span>
<span id="cb28-30"><a></a></span>
<span id="cb28-31"><a></a>farm_clean</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 8
  employee_id hours_worked seasonal_worker supervisor commute_min primary_crop
        &lt;int&gt;        &lt;dbl&gt; &lt;lgl&gt;           &lt;lgl&gt;            &lt;dbl&gt; &lt;chr&gt;       
1           1           40 TRUE            FALSE               15 corn        
2           2           55 TRUE            FALSE               35 wheat       
3           3           38 FALSE           TRUE                20 corn        
4           4           60 TRUE            FALSE               50 soy         
5           5           45 FALSE           TRUE                10 soy         
6           6           50 TRUE            FALSE               40 wheat       
# ℹ 2 more variables: years_experience &lt;dbl&gt;, hourly_wage &lt;dbl&gt;</code></pre>
</div>
</div>
</section></section>
<section>
<section id="activity" class="title-slide slide level1 center">
<h1>Activity:</h1>
<ul>
<li class="fragment">Download your data from the CSV in BCourses</li>
<li class="fragment">Download the <code>.qmd</code> file which has the instructions</li>
<li class="fragment">Open the <code>.qmd</code> file in Positron or RStudio</li>
<li class="fragment">Clean all columns to respective datatype</li>
</ul>
<div id="timer_7b1236049dae94ab87a138487228b55dd6f1556e" class="countdown" data-warn-when="0" data-update-every="1" data-play-sound="false" data-blink-colon="false" data-start-immediately="false" tabindex="0" style="right: 0;bottom: 0;">
  <div class="countdown-controls">
    <button class="countdown-bump-down">−</button>
    <button class="countdown-bump-up">+</button>
 </div>
 <code class="countdown-time"><span class="countdown-digits minutes">20</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">00</span></code>
 </div>
</section>
<section id="exploratory-data-analysis" class="slide level2">
<h2>Exploratory Data Analysis</h2>
<p>After having cleaned the data, we want to get a sense of what we are looking at.<br>
<br>
Let’s use our <code>farm_data</code> data as an example.</p>
</section>
<section id="q1-what-are-the-cols-and-rows" class="slide level2">
<h2>Q1: What are the cols and rows?</h2>
<div class="fragment">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a></a><span class="fu">dim</span>(farm_data)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10  8</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a></a><span class="fu">sapply</span>(farm_data, class)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>     employee_id     hours_worked  seasonal_worker       supervisor 
       "integer"        "numeric"        "logical"        "logical" 
     commute_min     primary_crop years_experience      hourly_wage 
       "numeric"      "character"        "numeric"        "numeric" </code></pre>
</div>
</div>
</div>
</section>
<section id="q1-what-are-the-cols-and-rows-1" class="slide level2">
<h2>Q1: What are the cols and rows?</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a></a>farm_data</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 8
   employee_id hours_worked seasonal_worker supervisor commute_min primary_crop
         &lt;int&gt;        &lt;dbl&gt; &lt;lgl&gt;           &lt;lgl&gt;            &lt;dbl&gt; &lt;chr&gt;       
 1           1           40 TRUE            FALSE               15 Corn        
 2           2           55 TRUE            FALSE               35 Wheat       
 3           3           38 FALSE           TRUE                20 Corn        
 4           4           60 TRUE            FALSE               50 Soy         
 5           5           45 FALSE           TRUE                10 Soy         
 6           6           50 TRUE            FALSE               40 Wheat       
 7           7           42 FALSE           TRUE                25 Corn        
 8           8           65 TRUE            FALSE               60 Soy         
 9           9           37 FALSE           TRUE                12 Corn        
10          10           48 FALSE           FALSE               30 Wheat       
# ℹ 2 more variables: years_experience &lt;dbl&gt;, hourly_wage &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="q1-what-are-the-cols-and-rows-2" class="slide level2">
<h2>Q1: What are the cols and rows?</h2>
<ul>
<li class="fragment">Unit of observation: an individual farm worker</li>
<li class="fragment">Variables: employee ID (integer), hours worked (numeric), seasonal worker (logical), supervisor (logical), commute in minutes (numeric), primary crop (character), years of experience (numeric), hourly wage (numeric)</li>
</ul>
<div class="fragment">
<blockquote>
<p>A description of the variables is often stored in a separate file called a <em>data dictionary</em>.</p>
</blockquote>
</div>
</section>
<section id="q2-is-there-any-missing-data" class="slide level2">
<h2>Q2: Is there any missing data?</h2>
<div class="fragment">
<p><strong>Option 1</strong>: Total missing values</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a></a><span class="fu">library</span>(dplyr)</span>
<span id="cb36-2"><a></a><span class="fu">sum</span>(<span class="fu">is.na</span>(farm_data))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
</div>
</div>
<div class="fragment">
<p><strong>Option 2</strong>: Proportion missing counts</p>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a></a>farm_data <span class="sc">|&gt;</span></span>
<span id="cb38-2"><a></a>  <span class="fu">summarize</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), <span class="sc">~</span> <span class="fu">mean</span>(<span class="fu">is.na</span>(.))))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 8
  employee_id hours_worked seasonal_worker supervisor commute_min primary_crop
        &lt;dbl&gt;        &lt;dbl&gt;           &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;
1           0            0               0          0           0            0
# ℹ 2 more variables: years_experience &lt;dbl&gt;, hourly_wage &lt;dbl&gt;</code></pre>
</div>
</div>
</div>
</section>
<section id="q3-what-is-the-distribution-of-years_experience" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Q3: What is the distribution of <code>years_experience</code>?</h2>
<div class="fragment">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb40-1" class="hljs-ln-code"><a></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb40-2" class="hljs-ln-code"><a></a>farm_data <span class="sc">|&gt;</span></span>
<span id="cb40-3" class="hljs-ln-code"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> years_experience)) <span class="sc">+</span></span>
<span id="cb40-4" class="hljs-ln-code"><a></a>  <span class="fu">geom_bar</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="slides_files/figure-revealjs/unnamed-chunk-19-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="q3-what-is-the-distribution-of-years_experience-1" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Q3: What is the distribution of <code>years_experience</code>?</h2>
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb41-1" class="hljs-ln-code"><a></a>farm_data <span class="sc">|&gt;</span></span>
<span id="cb41-2" class="hljs-ln-code"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> years_experience)) <span class="sc">+</span></span>
<span id="cb41-3" class="hljs-ln-code"><a></a>  <span class="fu">geom_bar</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="slides_files/figure-revealjs/unnamed-chunk-20-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="geom_bar" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title"><code>geom_bar()</code></h2>
<div class="fragment">
<p><code>geom_bar()</code> counts up the number of observations in each level of a single variable, then draws bars up to that height.</p>
</div>
</section>
<section id="summarizing-with-counts" class="slide level2" data-auto-animate="true">
<h2 data-id="quarto-animate-title">Summarizing with counts</h2>
<div class="fragment">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb42-1" class="hljs-ln-code"><a></a>farm_data <span class="sc">|&gt;</span></span>
<span id="cb42-2" class="hljs-ln-code"><a></a>  <span class="fu">group_by</span>(primary_crop) <span class="sc">|&gt;</span></span>
<span id="cb42-3" class="hljs-ln-code"><a></a>  <span class="fu">summarize</span>(<span class="at">count =</span> <span class="fu">n</span>())</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  primary_crop count
  &lt;chr&gt;        &lt;int&gt;
1 Corn             4
2 Soy              3
3 Wheat            3</code></pre>
</div>
</div>
</div>
</section>
<section id="geom_col" class="slide level2">
<h2><code>geom_col()</code></h2>
<div class="fragment">
<p><code>geom_col()</code> takes one column of categories and draws a bar for each up to the height of a second column of counts.</p>
</div>
<div class="fragment">
<div class="cell">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a></a>farm_data <span class="sc">|&gt;</span></span>
<span id="cb44-2"><a></a>  <span class="fu">count</span>(primary_crop) <span class="sc">|&gt;</span></span>
<span id="cb44-3"><a></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> primary_crop, <span class="at">x =</span> n)) <span class="sc">+</span></span>
<span id="cb44-4"><a></a>  <span class="fu">geom_col</span>()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<div class="cell fragment">
<div class="cell-output-display">
<div>
<figure>
<p><img data-src="slides_files/figure-revealjs/unnamed-chunk-22-1.png" width="960"></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="two-types-of-viz" class="slide level2">
<h2>Two types of Viz</h2>
<div class="columns">
<div class="column">
<h3 id="exploratory-data-analysis-eda">Exploratory Data Analysis (EDA)</h3>
</div><div class="column">
<h3 id="explanatory-data-analysis">Explanatory Data Analysis</h3>
</div></div>
<aside class="notes">
<p>Add notes to each:</p>
<p>Exploratory: - consumer: the analyst - goal: uncover structure for further analysis - follow templates - prioritize quick and accurate interpretation</p>
<p>Explanatory: - consumer: stakeholder - goal: tell a specific story - customized - polished aesthetic</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section></section>
<section id="let-us-know-if-you-have-any-questions" class="title-slide slide level1 center">
<h1>Let us know if you have any questions!</h1>
<p>Homework 1 is posted to BCourses</p>
<ul>
<li class="fragment">Due Monday, March 2nd at 11:59PM</li>
</ul>
<p>Reading for next week: <em>Price of Eggs</em></p>
<ul>
<li class="fragment"><a href="https://www.nytimes.com/2023/02/03/briefing/why-eggs-cost-so-much.html" class="uri">https://www.nytimes.com/2023/02/03/briefing/why-eggs-cost-so-much.html</a></li>
</ul>


</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<p><img src="../../site_libs/quarto-contrib/quarto-project/stat198/stat198slides/stat198-logo-vsmall.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="../../site_libs/revealjs/plugin/reveal-drop/drop-runtime.js"></script>
  <script src="../../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"8\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":false},
'chalkboard': {"buttons":false,"chalkEffect":0.2},
'drop': {"button":false,"shortcut":"`","engine":"webr","webr":{"packages":[]},"pyodide":{"packages":[]}},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: false,

        // Display the page number of the current slide
        slideNumber: 'c',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, RevealDrop, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
          const outerScaffold = trigger.parentElement.cloneNode(true);
          const codeEl = outerScaffold.querySelector('code');
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    <script type="text/javascript">
      window.addEventListener('load', function() {
        var logo = document.querySelector('.slide-logo');
        logo.addEventListener('click', function() {
          // Get the referrer URL
          var referrer = document.referrer;

          // Check if the referrer is from the same origin for security purposes
          if (referrer && new URL(referrer).origin === window.location.origin) {
          // Redirect to the referrer URL
          window.location.href = referrer;
          } else {
            // Fallback action if there's no referrer or it's from a different origin
            // For example, redirect to a home page or show a message
            window.location.href = '/'; // Redirecting to the home page
          }
        });
      });
      Reveal.addEventListener('slidechanged', (event) => {
        if (event.indexh === 0) {
          Reveal.configure({ slideNumber: null });
        }
        if (event.indexh === 1) { 
          Reveal.configure({ slideNumber: 'c' });
        }
      });
    </script>
    

</body></html>